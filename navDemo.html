<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="./键盘.css">
</head>

<body>
	<header></header>
	<main>
		<div class="wrapper" id="x"></div>
	</main>
	<footer></footer>
	<script>
		var keys = {
			0: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
			1: ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
			2: ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
			length: 3
		}
		var hash = {q: 'qq.com',w: 'weibo.com',e: 'ele.me',r: 'renren.com',t: 'tianya.com',y: 'youtube.com',u: 'uc.com',i: 'iqiyi.com',o: 'opera.com',p: 'panda.tv',a: 'acfun.tv',s: 'sohu.com',d: 'douban.com',z: 'zhihu.com',m: 'mcdonalds.com.cn'
		}
		//取出localstorage中的zzz对应的hash
		var hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null')
		if (hashInLocalStorage) {
			hash = hashInLocalStorage
		}
		//遍历keys，生成kbd标签
		index = 0
		while (index < keys['length']) { //取值为0,1,2
			div1 = document.createElement('div')
			x.appendChild(div1)
			row = keys[index] //取值为第一个数组，第二个数组，第三个数组
			index2 = 0
			while (index2 < row['length']) { //0~9,0~8, 0~6
				kbdxx = document.createElement('kbd')
				kbdxx.textContent = row[index2]
				buttonxx = document.createElement('button')
				buttonxx.textContent = '编辑'
				buttonxx.id = row[index2]
				buttonxx.onclick = function (xzkjcnxlkcjlk) {
					key = (xzkjcnxlkcjlk['target']['id']) //q,w,e,r,t....
					x = prompt('给我一个网址')
					hash[key] = x //hash变更
					localStorage.setItem('zzz', JSON.stringify(hash))
					console.log(hash)
				}
				kbdxx.appendChild(buttonxx)
				div1.appendChild(kbdxx)
				index2 = index2 + 1
			}
			index = index + 1
        }

		document.onkeypress = function (xzkjcnxlkcjlk) {
			key = (xzkjcnxlkcjlk['key']) //对应的hash内相对的按键,q,w,e...
			website = hash[key]
			//location.href = 'http://' + website
			window.open('http://' + website, '_blank')
		}
	</script>
</body>

</html>